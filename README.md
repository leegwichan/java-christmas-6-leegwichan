# 크리스마스 프로모션

- 대상 독자
  - 2024 우테코 프리코스 백엔드 부분 참가자 및 코치
- 작성 목적
  - 소스 코드를 보기 쉽도록 함
  - 프로그램 동작 및 주의사항 소개

### 목차
- [소스 코드 구조](#소스-코드-구조)
- [프로그램 소개](#프로그램-소개)
  - [우테코 식당 및 2023년 12월 이벤트 소개](#우테코-식당-및-2023년-12월-이벤트-소개)
  - [출력 내용](#출력-내용)
  - [입력 주의 사항](#입력-주의-사항)
  - [작동 예시](#작동-예시)
- [프로그램 실행](#프로그램-실행) 
- [과제 진행 방식](#과제-진행-방식)

## 소스 코드 구조

```
main
└── java
    └── christmas
        ├── controller
        ├── domain
        │   ├── badge
        │   ├── discount
        │   ├── gift
        │   └── plan
        ├── dto
        ├── exception
        ├── view
        └── Application.java
```

- 패키지 설명
  - controller : 전반적인 실행 제어를 결정하는 컨트롤러가 있다.
  - domain : '크리스마스 프로모션'의 기능적인 요구 사항을 다루는 로직을 담고 있다.
    - badge : '이벤트 배지'를 관리하는 클래스가 있다
    - discount : '12월 이벤트' 중 '할인 이벤트'들을 관리하는 클래스가 있다
    - gift : '12월 이벤트' 중 '증정 이벤트'를 관리하는 클래스가 있다
    - plan : 날짜와 주문을 관리하는 클래스가 있다
  - dto : view와 controller 사이에 데이터를 주고받을 때 사용하는 객체가 있다.
  - exception : 입력 형식이나 입력 조건 불일치에 따른 예외를 모아놓았다.
  - view : 프로그램의 입출력을 담당하는 객체가 있다.
     - 기본적인 입출력은 InputView, OutputView에서 이루어진다.
     - 이외 View 들은 "프로그램에서 사용하는 형식 - 입출력 형식"간의 관계가 담겨 있다
  - Application.java : 프로그램 실행 시작 지점이다.

## 프로그램 소개
  해당 프로그램은 가상의 '우테코 식당'의 '12월 이벤트'의 적용 내역을 볼 수 있는 프로그램입니다. 
 방문 일자와 주문할 메뉴를 입력하면 '12월 이벤트'에 적용되는 이벤트를 손 쉽게 알 수 있습니다.

### 우테코 식당 및 12월 이벤트 소개

#### 메뉴

```
<애피타이저>
양송이수프(6,000), 타파스(5,500), 시저샐러드(8,000)

<메인>
티본스테이크(55,000), 바비큐립(54,000), 해산물파스타(35,000), 크리스마스파스타(25,000)

<디저트>
초코케이크(15,000), 아이스크림(5,000)

<음료>
제로콜라(3,000), 레드와인(60,000), 샴페인(25,000)
```

#### 주문
- 음료만 주문 시, 주문할 수 없습니다.
- 메뉴는 한 번에 최대 20개까지만 주문할 수 있습니다.
  (e.g. 시저샐러드-1, 티본스테이크-1, 크리스마스파스타-1, 제로콜라-3, 아이스크림-1의 총개수는 7개)

#### 12월 이벤트
- 총주문 금액 10,000원 이상부터 이벤트가 적용됩니다.
- 크리스마스 디데이 할인
  - 할인 적용 기간: 2023.12.1 ~ 2023.12.25
  - 1,000원으로 시작하여 크리스마스가 다가올수록 날마다 할인 금액이 100원씩 증가
  - 총주문 금액에서 해당 금액만큼 할인 
    (e.g. 시작일인 12월 1일에 1,000원, 2일에 1,100원, ..., 25일엔 3,400원 할인)
- 평일 할인
  - 할인 적용 기간 : 2023.12.1 ~ 2023.12.31 중 평일(일요일~목요일)
  - 디저트 메뉴를 메뉴 1개당 2,023원 할인
- 주말 할인
  - 할인 적용 기간 : 2023.12.1 ~ 2023.12.31 중 주말(금요일, 토요일)
  - 메인 메뉴를 메뉴 1개당 2,023원 할인
- 특별 할인
  - 할인 적용 기간 : [12월 이벤트 달력](./docs/image.png)에 별이 있는 날 (2023년 12월 3, 10, 17, 24, 25, 31일)
  - 총주문 금액에서 1,000원 할인
- 증정 이벤트
  - 할인 적용 기간 : 2023.12.1 ~ 2023.12.31
  - 할인 전 총주문 금액이 12만 원 이상일 때, 샴페인 1개 증정

#### 12월 이벤트 배지
- 총혜택 금액에 따라 다른 이벤트 배지를 부여합니다.
  - 2만 원 이상: 산타
  - 1만 원 이상: 트리
  - 5천 원 이상: 별


### 출력 내용

- 출력 내용
  - 입력한 날짜와 메뉴를 바탕으로 고객이 받을 혜택을 보여준다
- 출력 내용 구성
  - 주문 메뉴
    - 입력한 메뉴와 개수를 정리하여 출력한다
  - 할인 전 총주문 금액
    - 입력한 메뉴와 개수를 바탕으로 할인되지 않은 금액을 계산하여 출력한다
  - 증정 메뉴
    - '증정 이벤트'에 해당 될 경우, 증정품을 출력한다
    - 중정품이 없을 경우, "없음" 이라고 출력한다
  - 혜택 내역
    - 해당되는 이벤트 내역과 해당 이벤트의 혜택 금액을 출력한다
    - 혜택 금액이란, 할인 이벤트는 할인된 금액을 증정 이벤트는 증정 메뉴의 총 가격을 의미한다
    - 혜택 내역이 없을 경우, "없음" 이라고 출력한다
  - 총혜택 금액
    - 혜택 금액들을 모두 더하여 출력한다
    - 고객이 이벤트를 통해 받은 혜택들의 총 금액을 의미한다
  - 할인 후 예상 결제 금액
    - 할인 전 총 주문 금액에서 할인된 금액을 제외하고 출력한다
  - 12월 이벤트 배지
    - 고객이 받은 '총 혜택 금액'에 따른 배지를 보여준다
    - 해당되는 배지 없을 경우 "없음" 이라고 출력한다

### 입력 주의 사항

- 식당 방문 날짜
  - 1 이상 31 이하의 정수를 입력해야 합니다.

- 주문할 메뉴와 개수
  - "메뉴-개수,메뉴-개수" 형식으로 입력해야 합니다. (ex. `해산물파스타-2,레드와인-1,초코케이크-1`)
    - 맨 앞, 맨 뒤의 띄어쓰기는 허용하나, 중간의 띄어쓰기는 허용하지 않습니다.
  - "메뉴"는 [메뉴판](#메뉴)에 있는 메뉴 이름을 똑같이 입력해야 합니다
  - "메뉴"는 중복하여 입력할 수 없습니다. (ex. `시저샐러드-1,시저샐러드-1`)
  - "개수"는 1 이상의 숫자만 입력할 수 있습니다.
  - "주문"의 기본 조건을 만족해야 합니다.
    - 음료만 주문 시, 주문할 수 없습니다.
    - 메뉴는 한 번에 최대 20개까지만 주문할 수 있습니다.
      - 예를 들어 `해산물파스타-8,레드와인-8,초코케이크-5`는 주문할 수 없습니다.

- 입력 형식와 맞지 않을 경우, 에러 메시지를 출력하고 해당 부분부터 다시 입력받습니다.
   - 입력 형식을 지나치게 많이 틀릴 경우(약 500번 이상) 해당 프로그램이 중단된다 

### 작동 예시
- 작동 예시 1 (혜택을 받는 경우)
  ```
  안녕하세요! 우테코 식당 12월 이벤트 플래너입니다.
  12월 중 식당 예상 방문 날짜는 언제인가요? (숫자만 입력해 주세요!)
  3
  주문하실 메뉴를 메뉴와 개수를 알려 주세요. (e.g. 해산물파스타-2,레드와인-1,초코케이크-1)
  티본스테이크-2,바비큐립-1,초코케이크-3,제로콜라-2
  12월 3일에 우테코 식당에서 받을 이벤트 혜택 미리 보기!
  
  <주문 메뉴>
  바비큐립 1개
  제로콜라 2개
  초코케이크 3개
  티본스테이크 2개
  
  <할인 전 총주문 금액>
  215,000원
  
  <증정 메뉴>
  샴페인 1개
  
  <혜택 내역>
  평일 할인: -6,069원
  특별 할인: -1,000원
  크리스마스 디데이 할인: -1,200원
  증정 이벤트: -25,000원
  
  <총혜택 금액>
  -33,269원
  
  <할인 후 예상 결제 금액>
  206,731원
  
  <12월 이벤트 배지>
  산타
  ```

- 작동 예시 2 (혜택을 받지 못하는 경우)
  ```
  안녕하세요! 우테코 식당 12월 이벤트 플래너입니다.
  12월 중 식당 예상 방문 날짜는 언제인가요? (숫자만 입력해 주세요!)
  26
  주문하실 메뉴를 메뉴와 개수를 알려 주세요. (e.g. 해산물파스타-2,레드와인-1,초코케이크-1)
  양송이수프-1,제로콜라-1
  12월 26일에 우테코 식당에서 받을 이벤트 혜택 미리 보기!
  
  <주문 메뉴>
  양송이수프 1개
  제로콜라 1개
  
  <할인 전 총주문 금액>
  9,000원
  
  <증정 메뉴>
  없음
  
  <혜택 내역>
  없음
  
  <총혜택 금액>
  0원
  
  <할인 후 예상 결제 금액>
  9,000원
  
  <12월 이벤트 배지>
  없음
  ```

## 프로그램 실행
- 프로그램 실행 황경
  - 프로그램 실행 환경에 Java 버전이 17 또는 그 이상이어야 합니다.
  - Eclipse 또는 IntelliJ IDEA와 같은 IDE에서 실행하는 것을 추천합니다.
- 실행 방법
  1. 해당 Repository를 실행 환경에서 Clone합니다.
  2. IDE에서 Clone되어 있는 폴더를 엽니다.
  3. [Application.java](./src/main/java/christmas/Application.java) 파일을 실행합니다

## 과제 진행 방식

해당 프로그램은 우아한테크코스 2024 프리코스 4주차 과제입니다. 아래의 방식에 따라서 과제를 진행했습니다.

- 미션은 [java-christmas-6](https://github.com/woowacourse-precourse/java-christmas-6) 저장소를 비공개 저장소로 생성해 시작한다.
  - 과제 진행 및 제출 방법은 [프리코스 과제 제출](https://docs.google.com/document/d/1cmg0VpPkuvdaetxwp4hnyyFC_G-1f2Gr8nIDYIWcKC8/edit?usp=sharing) 문서를 참고한다.
- 미션은 [세 개의 요구 사항](./docs/REQUIREMENTS.md)(**기능 요구 사항, 프로그래밍 요구 사항, 과제 진행 요구 사항**)으로 구성되어 있다.
  - 세 개의 요구 사항을 만족하기 위해 노력한다.
- 기능을 구현하기 전에 [기능 목록](./docs/README.md)을 만들고, 기능 단위로 커밋 하는 방식으로 진행한다.
  - [커밋 메시지 컨벤션](https://gist.github.com/stephenparish/9941e89d80e2bc58a153) 가이드를 참고해 커밋 메시지를 작성한다.
- 기능 요구 사항에 기재되지 않은 내용은 스스로 판단하여 구현한다.
